<! XRTINSTRMAP (May2007)  >                           
<html>
<head>
<style type="text/css">
  body { margin-left: 5%; margin-right: 5%; }
  h1,h2,h3,h4 { margin-left: -5%;}
</style>
<title>xrtinstrmap help file</title>
</head>

<body>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#9690CC">
<h2>NAME</h2>
xrtinstrmap -- Build the RAW intrument map for PC and WT modes.
<h2>USAGE</h2>
<tt>xrtinstrmap infile outfile [parameter=value ... ]</tt>
<h2>DESCRIPTION</h2>

'xrtinstrmap' creates an instrument map in raw coordinates for PC and WT modes. 
The user can produce individual instrument maps for each CCD frame or for a 
set of frames by setting the parameter 'nframe'. If 'nframe=0' an instrument map 
is generated for consecutive frames separated by less than 100 seconds.
By setting the parameter 'checkattitude'="yes" when 'nframe'=0, 
time dependent instrument maps are generated if, within a given set of consecutive 
frames, the spacecraft attitude variations are larger than 2.4 arcsec (corresponding to 
approximately 1 detector pixel).
<br>
The instrument maps are stored in different extensions of a FITS file. 
For PC mode, each map includes  all the known bad pixels/columns used to flag 
the events during the processing and the hot and flickering pixels recognized by 
'xrthotpix' task. For WT mode, only bad columns are considered.
All this information is read from the bad pixel extension 
of the input event file. Also the Field of View of the instrument and the CCD 
readout window size are taken into account to determine whether a pixel is exposed 
or not during the considered time interval. 
<h2>PARAMETERS</h2>
<dl>
<dt>infile [file name]
<dd>Name  of  the  input event FITS file with BADPIX and GTI extensions. 
Unix-compressed files are allowed.
<p>        
<dt>hdfile [file name]
<dd>Name of the input Housekeeping Header Packets FITS file.
<p>        
<dt>outfile [file name]
<dd>Name of output instrument map file.
<p>    
<dt>(fovfile = CALDB )[file name]
<dd>Name of input FOV file. If set to CALDB (default), use the file in the 
Calibration Database
<p>
<dt>(nframe = 0) [integer]
<dd>Number of frames  used to create instrument map
<p> 
<dt>(checkattitude=no) [boolean]
<dd>If 'checkattitude'=yes and 'nframe'=0, checks pointing stability in the instrument map calculation.
<p>
<dt>(history=yes) [boolean]
<dd>If set to yes, write parameter values and other information in HISTORY blocks.
<p>
<dt>(clobber=no) [boolean]
<dd>If 'clobber'=yes and outfile=filename, the file with the same name
    will be  overwritten, if it exists.
<p>
<dt>(chatter = 2) [integer]
<dd>Chatter Level (min=0, max=5).
</dl>    
<h2>EXAMPLES</h2>
<ol>
<li>Calculate the instrument map for the Photon Counting mode event file
    sw00106107000xpcw4po_cl.evt, and write the output in the 
    file 'outfile.img'.
<p>
<pre> > xrtinstrmap infile=sw00106107000xpcw4po_cl.evt outfile=outfile.img
   hdfile=sw00106107000xhdtc.hk</pre>
</ol>
<h2>BUGS</h2>
<h2>SEE ALSO</h2>
<h2>LAST MODIFIED</h2>
May 2007
</body>
</html>


